# 2장. 의미 있는 이름

> Clean Code(Martin, Robert C.) 2장 정리

소프트웨어에서 이름은 어디에서나 쓰인다. 따라서, 이름을 잘 지으면 여러모로 편하다. 이름을 잘 짓는 간단한 규칙 몇 가지를 소개한다.

### 의도를 분명히 밝혀라

- 의도가 분명한 이름은 **정말로** 중요하다. 좋은 이름을 지으려면 시간이 걸리지만 좋은 이름으로 절약하는 시간이 훨씬 크다.

- 변수나 함수, 클래스의 이름은 다음과 같은 질문에 모두 답해야 한다.
  + 각 변수(또는 함수, 클래스)의 존재 이유는?
  + 수행 기능은?
  + 사용 방법은?
- 만약 따로 주석이 필요하다면 의도를 분명히 드러내지 못했다는 것이다. 다음 코드는 나쁜 예이다.

    ```C++
    int d; // 경과 시간(단위: 날짜)
    ```

  이름 d는 아무 의미도 드러내지 않는다. 측정하려는 값과 단위를 표현하는 이름이 필요하다. 의도가 드러나는 이름을 사용하면 코드의 이해와 변경이 쉬워진다.

    ```C++
    int elapsedTimeInDays;
    int daysSinceCreation;
    int daysSinceModification;
    int fileAgeInDays;
    ```

- 단순한 코드를 함축적인 코드라고 착각하지 말자. 코드는 그 자체에 코드의 맥락을 명시적으로 드러내야만 한다. 

    ```C++
    public List<int[]> getThem() {
        List<int[]> list1 = new ArrayList<int[]>();
        for (int[] x : theList)
            if (x[0] == 4)
                list1.add(x);
        return list1;
    }
    ```

    위 코드는 암암리에 독자가 다음 정보를 안다고 가정한다.

    + theList에 무엇이 들어있는가?
    + thteList의 0번째 값이 왜 중요한가?
    + 값 4는 무슨 의미인가?
    + 함수가 반환하는 list1을 어떻게 사용하는가?

    위 코드는 다음과 같이 개선할 수 있다. 단순히 이름만 고쳤는데도 함수가 하는 일을 이해하기 쉬워졌다.

    ```C++
    public List<int[]> getFlaggedCells() {
        List<int[]> flaggedCells = new ArrayList<int[]>();
        for (int[] cell : gameBoard)
            if (cell[STATUS_VALUE] == FLAGGED)
                flaggedCells.add(cell);
        return flaggedCells;
    }
    ```

### 그릇된 정보를 피하라

- 그릇된 단서는 코드의 의미를 흐리므로, 코드에 그릇된 단서를 남겨서는 안된다. 널리 쓰이는 의미가 있는 단어를 다른 의미로 사용해도 안 된다.

- 예를 들어, 여러 계정을 그룹으로 묶을 때, 실제 List가 아니라면 accountList라 명명해서는 안된다. List는 특수한 단어기 때문이다.

- 서로 다른 클래스나 메서드가 너무 비슷한 이름을 사용하지 않도록 주의하자.

- 유사한 개념은 유사한 표기법을 사용한다. 이것도 하나의 정보다. 일관성이 떨어지는 표기법은 그릇된 정보다.

### 의미 있게 구분하라

- 읽는 사람이 차이를 알도록 이름을 지어라. 이름이 다르다면 의미도 달라져야 한다. 연속된 숫자를 덧붙인(a1, a2, ..., aN)도 마찬가지다. 이런 이름은 아무런 정보를 제공하지 못하는 이름이다. 다음 세 함수를 구분할 수 있는가?

    ```C++
    getActiveAccount();
    getActiveAccounts();
    getActiveAccountInfo();
    ```

- 불용어는 중복이다. Product라는 클래스가 있다고 가정하자. 다른 클래스를 ProductInfo 또는 ProductData라고 부른다면, 개념을 구분하지 않고 이름만 달리한 것이다. (그러지 말자.)

### 발음하기 쉬운 이름을 사용하라

- 발음하기 어려운 이름은 토론하기도 어렵다. 프로그래밍은 사회 활동이다.

### 검색하기 쉬운 이름을 사용하라

- 문자 하나를 사용하는 이름과 상수는 텍스트 코드에서 쉽게 눈에 띄지 않는다.
- 숫자 7이나 문자 e 등은 변수의 이름으로 적합하지 않다. 검색이 어렵기 때문이다. 긴 이름이 짧은 이름보다 좋으며, 검색하기 쉬운 이름이 상수보다 좋다.
- 이름 길이는 범위 크기에 비례해야 한다. 다음 두 예제를 비교해 보자.

    ```C++
    for (int j = 0; j < 34; j++) {
        s += (t[j] * 4) / 5;
    }
    ```

    ```C++
    int realDaysPerIdealDay = 4;
    const int WORK_DAYS_PER_WEEK = 5;
    int sum = 0;
    for (int j = 0; j < NUMBER_OF_TASKS; j++) {
        int realTaskDays = taskEstimate[j] * realDaysPerIdealDay;
        int realTaskWeeks = (realTaskDays / WORK_DAYS_PER_WEEK);
        sum += realTaskWeeks;
    }
    ```

    sum은 유용하지는 않으나 최소한 검색은 가능하다. 이름을 의미 있게 지으면 함수가 길어진다. 하지만 WORK_DAYS_PER_WEEK를 찾는 것이 얼마나 쉬운지 생각해보면, 긴 이름에도 가치가 있다.

### 인코딩을 피하라

- 이름에 유형이나 범위 정보까지 인코딩할 필요는 없다.
- 인터페이스 클래스와 구현 클래스의 이름을 정해야 한다면, 구현 클래스 이름을 인코딩하는 편이 낫다. 인터페이스 클래스는 외부에 노출되기 때문이다.

### 자신의 기억력을 자랑하지 마라

- 독자가 코드를 보며 변수의 이름을 자신이 아는 이름으로 변환해야 한다면, 그 변수 이름은 바람직하지 못하다.
- 문자 하나만 사용하는 변수 이름은 문제가 있다. (루프에서 반복 횟수를 세는 변수 i, j, k는 괜찮다.)

### 클래스 이름

- 클래스 이름과 객체 이름은 명사나 명사구가 적합하다. 동사는 사용하지 말자.
- 좋은 예: Customer, WikiPage, Account, AddressParser
- 피해야 할 단어: Manager, Processor, Data, Info, 동사

### 메서드 이름

- 메서드 이름은 동사나 동사구가 적합하다.
- 좋은 예: postPayment, deletePage, save 등
- 접근자, 변경자, 조건자는 앞에 get, set, is를 붙인다.

    ```C++
    string name = employee.getName()
    customer.setName("mike");
    if (paycheck.isPosted()) {
        ...
    }
    ```

### 기발한 이름은 피하라

- 재미난 이름보다 의도가 명료한 이름을 선택하라.

### 한 개념에 한 단어를 사용하라

- 추상적인 개념 하나에 단어 하나를 선택해 이를 고수하라. 메서드 이름은 독자적이고 일관적이어야 한다.
  + 똑같은 메서드를 클래스마다 fetch, retrieve, get으로 제각각 부르면 혼란스럽다.
  + 동일 코드 기반에 controller, manager, driver를 섞어 쓰면 혼란스럽다.
- 이름이 다르면 독자는 당연히 클래스도 다르고 타입도 다를 것이라 생각한다.

### 말장난을 하지 마라

- 한 단어를 두 가지 목적으로 사용하지 마라.
- 같은 맥락이 아닌데도 일관성을 위해 같은 단어를 선택하는 것은 안된다.
  + 지금까지 구현한 add 메서드는 모두가 기존 값 두 개를 더하거나 이어서 새로운 값을 만드는 메서드였다.
  + 만약 새로 작성하는 메서드는 집합에 값 하나를 추가한다면, 이 이름은 add와는 다른 것이어야 한다.

### 해법 영역에서 가져온 이름을 사용하라

- 코드를 읽을 사람도 프로그래머이기 때문에, 프로그래밍 용어 등을 사용해도 괜찮다.
- 모든 이름을 문제 영역(domain)에서 가져오는 정책은 현명하지 못하다.

### 문제 영역에서 가져온 이름을 사용하라

- 적절한 프로그래머 용어가 없다면 문제 영역에서 이름을 가져온다.
- 문제 영역의 개념과 관련이 깊은 코드랄면 문제 영역에서 이름을 가져와야 한다.

### 의미 있는 맥락을 추가하라

- 주소에 대한 정보를 담는 정보라면, firstName, lastName, street, state 등의 변수를 사용하는 대신, addrFirstName, addrLastName, addrStreet, addrState 등과 같이 접두어를 추가해 맥락을 분명하게 하자.

### 불필요한 맥락을 없애라

- 의미가 분명하다면, 일반적으로는 짧은 이름이 긴 이름보다 좋다.
- accountAddress, customerAddress 등의 이름은 클래스 인스턴스로는 좋은 이름이나, 클랫스 이름으로는 적합하지 못하다. 반면, Address는 클래스 이름으로 적합하다.
