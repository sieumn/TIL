# #1 아키텍처는 뭐고 난 누구인가

> 자동매매 프로그램 개발 스터디 1주차 회고 (2021.09.14 - 27)

### 개발 스터디를 시작했다.

세 달간의 쿠버네티스 스터디를 끝냈다. 다음 스터디를 하게 된다면 지식을 쌓는 것보다는, 실전 개발 경험을 쌓고 싶었다. 그동안 내가 했던 개발이라면 주로 알고리즘 문제 해결을 위한 프로그래밍, 또는 남들이 만들어둔 틀 위에서 빈 함수를 채우는 프로그래밍이 대부분이었다. 주어진 코드를 채우는 것이 아닌, 바닥부터 직접 벽돌을 쌓아 건물을 완성하는 개발 경험이란 어떤 것인지 너무나 궁금했다.

하지만 경험이 없기에 한 발을 내딛기가 어려웠다. 뭐부터 시작해야 할지 막연했다. 기존 스터디 멤버들과 여러 방면으로 고민을 하던 시기에 운 좋게 경험이 많은 새 멤버 Y 님을 만났다. Y 님의 후기와 추천에 이끌려 자동매매 프로그램을 개발해 보기로 결정했다.

### 아키텍처가 뭐죠?

개발 스터디 첫 미팅을 했다. 사실 이런 종류의 개발은 무지한 탓에, 첫날 스터디 리딩에 꽤 애를 먹었다. Y 님께서 스터디의 첫 과제로 아키텍처 설계를 제안했다. 생각 없이 코드를 따라서 작성하기보다는, 본인이 만들 프로그램에 대해 먼저 공부하고, 상상하고, 직접 디자인하는 시간이 필요하다는 것이었다. 그의 말에 백 번 동의했다. 하지만 한 가지 큰 문제가 있었다. 나는 아키텍처가 뭔지 모른다.

아키텍처가 대체 뭘까. 아키텍처 설계는 무엇을 하는 것일까. 꽤 자주 들어봤음에도 나에게 아키텍처란 굉장히 추상적인 단어였다. 모를 때는 역시 책이다. 바로 클린 아키텍처 책을 주문했다. 

### 클린 아키텍처

첫 스터디 후 열흘간 틈틈이 클린 아키텍처 1, 2, 3부를 읽었다. 1부를 읽으며 소프트웨어 아키텍처는 왜 중요한 것이며, 개발자는 왜 좋은 아키텍처에 대해 고민해야 하는지를 배웠다. 개발 경험이 아주 많은 것은 아님에도 불구하고, 설계를 고민하지 않고 무작정 코드를 짰다가 기능을 수정하거나 추가하지 못해 곤란했던 수많은 지난날이 떠올랐다. 좋은 개발자라면 수정이 쉬운, 유연한 소프트웨어를 만들기 위해 고민해야 한다는 저자의 이야기에 공감하고 반성했다.

그리고, 2-3부에 걸쳐 좋은 소프트웨어 아키텍처를 위해 고려해야 할 점을 공부했다. 매 페이지에서 인사이트를 얻었지만, OCP와 DIP를 특히 인상 깊게 읽었다. 각 내용은 간단히 다음과 같다.

- 개방-폐쇄 원칙 (OCP): 좋은 소프트웨어는 수정에는 닫혀있어야 하고 확장에는 열려 있어야 한다.
- 의존성 역전 원칙 (DIP): 고수준 정책을 구현하는 코드는 저수준 세부사항을 구현하는 코드에 절대로 의존해서는 안 된다.

### 여전히 어렵다.

다행히 이제 아키텍처가 무엇인지, 아키텍처가 왜 중요한지 알게 되었다. 어렴풋하지만 어떤 아키텍처가 좋은 아키텍처인지도 감을 잡았다. 다음 스터디가 다가오는 만큼, 책을 덮고 설계를 시작해야 했다.

마음과 달리, 빈 페이지를 켜고 한참을 아무것도 적지 못했다. 아키텍처는 알았지만, 자동매매 시스템을 몰랐던 것이다. 인터넷 자료와 책을 읽으며 자동매매 시스템에 대한 감을 잡아보려 애썼지만, 감으로는 역부족임을 느꼈다. 직접 해보지 않았기에 한계가 있었다. 부끄럽지만, '아마 그럴 것 같다'에 기반한 설계 초안을 작성했다. 그래도 공부한 것을 적용하기 위해, 컴포넌트와 모듈을 구성하고 OCP와 DIP을 적용하기 위해 노력했다. (...) 하하.

이제 나에게 필요한 다음 단계는 완벽한 아키텍처를 완성하는 것보다는, 삽질과 실패와 깨달음의 과정이 아닐까 생각한다. 그래도 아키텍처에 대해 고민하기 시작한 이상, 분명 더 나은 삽질과 더 나은 깨달음을 얻을 수 있을 것이라 기대한다.

### 앞으로 나아질 일만 남았다.

진심으로 그렇게 믿는다. 좋은 아키텍처에 대해 고민해본 것으로도 배움이 많았던 2주를 보냈다. 부족하지만 부족함을 원동력으로 다음 주는 더 노력하겠다. 좋은 영감과 가이드를 주시는 Y 님께 다시 한번 감사드린다.